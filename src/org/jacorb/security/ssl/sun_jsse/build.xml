<?xml version="1.0"?>

<!DOCTYPE project [ <!ENTITY common SYSTEM "file:../../../../../../common.xml"> ]>

<project name="sun_jsse" default="all" basedir="../../../../../..">

  <!-- ==================================================== -->
  <!--                 jsse build file                      -->
  <!-- $Id$ -->
  <!-- ==================================================== -->

   &common;


   <target name="all" depends="init">
      <antcall target="jacorb-javac">
         <param name="javac-includes" value="org/jacorb/security/ssl/sun_jsse/*.java"/>
      </antcall>
   </target>

   <target name="patch" depends="init">
           <patch patchfile="${local}/ServerInvocationInterceptor.java.patch"
                  originalfile="${local}/ServerInvocationInterceptor.java"
                  backups="yes" />
           <patch patchfile="${local}/SSLSocketFactory.java.patch"
                  originalfile="${local}/SSLSocketFactory.java"
                  backups="yes" />
           <patch patchfile="${local}/SSLServerSocketFactory.java.patch"
                  originalfile="${local}/SSLServerSocketFactory.java"
                  backups="yes" />
   </target>

   <target name="unpatch" depends="init">
           <patch patchfile="${local}/ServerInvocationInterceptor.java.patch"
                  originalfile="${local}/ServerInvocationInterceptor.java"
                  backups="no"
                  reverse="yes" />
           <patch patchfile="${local}/SSLSocketFactory.java.patch"
                  originalfile="${local}/SSLSocketFactory.java"
                  backups="no"
                  reverse="yes" />
           <patch patchfile="${local}/SSLServerSocketFactory.java.patch"
                  originalfile="${local}/SSLServerSocketFactory.java"
                  backups="no"
                  reverse="yes" />
   </target>
</project>
